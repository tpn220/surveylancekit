<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<script>
			var whichSubmitButtonPressed
			function validateForm() {
				if whichSubmitButtonPressed == "add") {
					var x = document.forms["categories"]["newcatname"].value;
					if (x == null || x == "") {
						alert("New Category Name must be filled out");
						return false;
					}
					if(x.trim().length == 0) {
						alert("New Category Name invalid!!");
						return false;
					}
				}
				else {
					var x = document.forms["categories"]["importcatpath"].value;
					if (x == null || x == "") {
						alert("Path of XML File should be present");
						return false;
					}
					if(x.trim().length == 0) {
						alert("Path of XML File invalid!!");
						return false;
					}
				}
			}
		</script>
	</head>
  	<body>
  		<h1> {{ greeting }} </h1>
		{% for parent_category in parent_categories %}
			<h3> {{ parent_category.name }} <a href="manage_category?cat_name={{ parent_category.name }}&function=edit">Edit</a> <a href="manage_category?cat_name={{ parent_category.name }}&function=delete">Delete</a> </h3>
		{% endfor %}
  		<form name="categories" action="manage_category" onsubmit="return validateForm()" method="post"> 
  			Add New Category : <input type="text" name="newcatname"> <input type="submit" onClick = "whichSubmitButtonPressed = add" value="Add Category">
  			<br>
  			Import Category : <input type="text" name="importcatpath"> <input type="submit" onClick = "whichSubmitButtonPressed = parse" value="Import Category">
  		</form>
  </body>
</html>